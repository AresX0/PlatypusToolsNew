<UserControl x:Class="PlatypusTools.UI.Controls.VideoEditor.ScrubBar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="40" d:DesignWidth="800"
             Background="#1E1E1E"
             MouseLeftButtonDown="OnMouseLeftButtonDown"
             MouseLeftButtonUp="OnMouseLeftButtonUp"
             MouseMove="OnMouseMove"
             SizeChanged="OnSizeChanged">
    
    <UserControl.Resources>
        <!-- Shotcut-style colors -->
        <SolidColorBrush x:Key="ScrubBarBackground" Color="#2D2D2D"/>
        <SolidColorBrush x:Key="ScrubBarTick" Color="#666666"/>
        <SolidColorBrush x:Key="ScrubBarTimecode" Color="#AAAAAA"/>
        <SolidColorBrush x:Key="PlayheadColor" Color="#FF4444"/>
        <SolidColorBrush x:Key="InPointColor" Color="#44FF44"/>
        <SolidColorBrush x:Key="OutPointColor" Color="#FF4444"/>
        <SolidColorBrush x:Key="LoopRegionColor" Color="#334488FF"/>
    </UserControl.Resources>
    
    <Grid>
        <!-- Main scrub area -->
        <Canvas x:Name="ScrubCanvas" Background="{StaticResource ScrubBarBackground}">
            <!-- Loop region -->
            <Rectangle x:Name="LoopRegion" 
                       Fill="{StaticResource LoopRegionColor}" 
                       Height="{Binding ActualHeight, RelativeSource={RelativeSource AncestorType=Canvas}}"
                       Visibility="Collapsed"/>
            
            <!-- In point marker -->
            <Path x:Name="InPointMarker" 
                  Fill="{StaticResource InPointColor}" 
                  Data="M 0,0 L 8,8 L 0,16 Z"
                  Visibility="Collapsed"/>
            
            <!-- Out point marker -->
            <Path x:Name="OutPointMarker" 
                  Fill="{StaticResource OutPointColor}" 
                  Data="M 8,0 L 0,8 L 8,16 Z"
                  Visibility="Collapsed"/>
            
            <!-- Playhead -->
            <Canvas x:Name="PlayheadCanvas">
                <Path x:Name="PlayheadTriangle" 
                      Fill="{StaticResource PlayheadColor}" 
                      Data="M 0,0 L 6,8 L 0,8 L -6,8 Z"
                      Canvas.Top="0"/>
                <Rectangle x:Name="PlayheadLine" 
                           Fill="{StaticResource PlayheadColor}" 
                           Width="2" 
                           Canvas.Left="-1"
                           Canvas.Top="8"/>
            </Canvas>
        </Canvas>
        
        <!-- Timecode labels will be drawn in code-behind -->
    </Grid>
</UserControl>
