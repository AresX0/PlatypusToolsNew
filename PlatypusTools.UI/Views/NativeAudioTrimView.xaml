<UserControl x:Class="PlatypusTools.UI.Views.NativeAudioTrimView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="900">
    <Grid Margin="5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- File Selection -->
        <GroupBox Header="Audio File" Grid.Row="0" Margin="0,0,0,10">
            <Grid Margin="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="File:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <TextBox x:Name="AudioFilePathBox" Grid.Column="1" IsReadOnly="True" Margin="0,0,10,0"/>
                <Button Grid.Column="2" Content="Browse..." Click="BrowseAudio_Click" Width="80" Padding="5"/>
            </Grid>
        </GroupBox>

        <!-- Trim Settings -->
        <GroupBox Header="Trim Settings" Grid.Row="1" Margin="0,0,0,10">
            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <TextBlock Grid.Row="0" Grid.Column="0" Text="Start Time:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                <TextBox x:Name="TrimStart" Grid.Row="0" Grid.Column="1" Text="00:00:00" Margin="0,0,20,5"/>
                <TextBlock Grid.Row="0" Grid.Column="2" Text="End Time:" VerticalAlignment="Center" Margin="0,0,10,5"/>
                <TextBox x:Name="TrimEnd" Grid.Row="0" Grid.Column="3" Text="00:00:30" Margin="0,0,0,5"/>
                
                <TextBlock Grid.Row="1" Grid.Column="0" Text="Output Format:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <ComboBox x:Name="OutputFormat" Grid.Row="1" Grid.Column="1" SelectedIndex="0">
                    <ComboBoxItem Content="MP3"/>
                    <ComboBoxItem Content="WAV"/>
                    <ComboBoxItem Content="FLAC"/>
                    <ComboBoxItem Content="AAC"/>
                    <ComboBoxItem Content="OGG"/>
                </ComboBox>
            </Grid>
        </GroupBox>
        
        <!-- Actions -->
        <GroupBox Header="Actions" Grid.Row="2" Margin="0,0,0,10">
            <WrapPanel Margin="10">
                <Button Content="âœ‚ï¸ Trim Audio" Click="TrimAudio_Click" Width="150" Height="40" Margin="0,0,10,5" FontWeight="Bold" Background="LightGreen"/>
                <Button Content="â–¶ Preview" Click="Preview_Click" Width="120" Height="40" Margin="0,0,10,5"/>
                <Button Content="â¹ Stop Preview" Click="StopPreview_Click" Width="120" Height="40" Margin="0,0,10,5"/>
                <Button Content="ðŸ“‚ Open Output Folder" Click="OpenOutputFolder_Click" Width="160" Height="40" Margin="0,0,10,5"/>
            </WrapPanel>
        </GroupBox>
        
        <!-- Info Panel -->
        <GroupBox Header="Audio Trim - Powered by FFmpeg" Grid.Row="3">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="10">
                    <TextBlock Text="Native Audio Trimming" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>
                    <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                        Trim audio files to specific start and end times. Uses FFmpeg for lossless audio processing when possible.
                    </TextBlock>
                    <TextBlock Text="Features:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <TextBlock Text="â€¢ Set precise start and end timestamps" Margin="15,0,0,3"/>
                    <TextBlock Text="â€¢ Convert to different output formats" Margin="15,0,0,3"/>
                    <TextBlock Text="â€¢ Preview selection before trimming" Margin="15,0,0,3"/>
                    <TextBlock Text="â€¢ Lossless trimming when format allows" Margin="15,0,0,10"/>
                    
                    <TextBlock x:Name="StatusText" Text="" Foreground="Blue" Margin="0,10,0,10"/>
                    
                    <Border Background="#E8F5E9" Padding="10" Margin="0,10,0,0" BorderBrush="#4CAF50" BorderThickness="1">
                        <TextBlock Text="ðŸ’¡ Tip: Use format HH:MM:SS for timestamps (e.g., 00:01:30 for 1 minute 30 seconds)" Foreground="#2E7D32" TextWrapping="Wrap"/>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </GroupBox>
    </Grid>
</UserControl>
