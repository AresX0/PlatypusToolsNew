<Window x:Class="PlatypusTools.UI.Views.ScreensaverWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:PlatypusTools.UI.Views"
        Title="PlatypusTools Screensaver"
        WindowStyle="None"
        WindowState="Maximized"
        ResizeMode="NoResize"
        Topmost="True"
        Background="Black"
        Cursor="None"
        AllowsTransparency="False"
        ShowInTaskbar="False"
        KeyDown="Window_KeyDown"
        MouseDown="Window_MouseDown"
        MouseMove="Window_MouseMove">
    
    <Grid x:Name="MainGrid">
        <!-- Audio Visualizer fills the entire screen -->
        <local:AudioVisualizerView x:Name="VisualizerView" />
        
        <!-- Exit instruction (fades out after 3 seconds) -->
        <Border x:Name="InstructionBorder" 
                HorizontalAlignment="Right" 
                VerticalAlignment="Top" 
                Margin="20"
                Background="#80000000"
                CornerRadius="5"
                Padding="10,5">
            <TextBlock Text="Press any key or click to exit" 
                       Foreground="White" 
                       FontSize="12"
                       Opacity="0.7"/>
        </Border>
        
        <!-- Mode selector (hidden by default, shown on right-click) -->
        <Border x:Name="SettingsPanel"
                HorizontalAlignment="Center"
                VerticalAlignment="Bottom"
                Margin="0,0,0,50"
                Background="#CC1A1A1A"
                CornerRadius="8"
                Padding="20"
                Visibility="Collapsed">
            <StackPanel>
                <TextBlock Text="SCREENSAVER SETTINGS" 
                           Foreground="#FF00D4FF" 
                           FontSize="14" 
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,10"/>
                
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <TextBlock Text="Visualizer Mode:" Foreground="White" Width="120" VerticalAlignment="Center"/>
                    <ComboBox x:Name="ModeComboBox" Width="180" SelectionChanged="ModeComboBox_SelectionChanged">
                        <ComboBoxItem Content="Bars" IsSelected="True"/>
                        <ComboBoxItem Content="Mirror"/>
                        <ComboBoxItem Content="Waveform"/>
                        <ComboBoxItem Content="Circular"/>
                        <ComboBoxItem Content="Radial"/>
                        <ComboBoxItem Content="Particles"/>
                        <ComboBoxItem Content="Aurora"/>
                        <ComboBoxItem Content="Wave Grid"/>
                        <ComboBoxItem Content="Starfield"/>
                        <ComboBoxItem Content="Toasters"/>
                        <ComboBoxItem Content="Matrix"/>
                        <ComboBoxItem Content="Star Wars Crawl"/>
                        <ComboBoxItem Content="Stargate"/>
                        <ComboBoxItem Content="Klingon"/>
                        <ComboBoxItem Content="Federation"/>
                        <ComboBoxItem Content="Jedi"/>
                        <ComboBoxItem Content="TimeLord"/>
                        <ComboBoxItem Content="VU Meter"/>
                        <ComboBoxItem Content="Oscilloscope"/>
                        <ComboBoxItem Content="Milkdrop"/>
                        <ComboBoxItem Content="3D Bars"/>
                        <ComboBoxItem Content="Waterfall"/>
                    </ComboBox>
                </StackPanel>
                
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <TextBlock Text="Color Scheme:" Foreground="White" Width="120" VerticalAlignment="Center"/>
                    <ComboBox x:Name="ColorSchemeComboBox" Width="180" SelectionChanged="ColorSchemeComboBox_SelectionChanged">
                        <ComboBoxItem Content="Blue Green" IsSelected="True"/>
                        <ComboBoxItem Content="Rainbow"/>
                        <ComboBoxItem Content="Fire"/>
                        <ComboBoxItem Content="Purple"/>
                        <ComboBoxItem Content="Neon"/>
                        <ComboBoxItem Content="Ocean"/>
                        <ComboBoxItem Content="Sunset"/>
                        <ComboBoxItem Content="Monochrome"/>
                        <ComboBoxItem Content="PipBoy"/>
                        <ComboBoxItem Content="LCARS"/>
                        <ComboBoxItem Content="Klingon"/>
                        <ComboBoxItem Content="Federation"/>
                        <ComboBoxItem Content="Jedi"/>
                    </ComboBox>
                </StackPanel>
                
                <Button Content="Close Settings" 
                        Margin="0,15,0,0" 
                        Padding="15,5"
                        Click="CloseSettings_Click"
                        Background="#FF2196F3"
                        Foreground="White"
                        BorderThickness="0"/>
                
                <TextBlock Text="Right-click to open settings | Any key/click to exit" 
                           Foreground="Gray" 
                           FontSize="10"
                           HorizontalAlignment="Center"
                           Margin="0,10,0,0"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
