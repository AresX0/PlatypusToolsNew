<UserControl x:Class="PlatypusTools.UI.Views.NativeVideoPlayerView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:vlc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="900">
    <Grid Margin="5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*" MinHeight="100"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- File Selection -->
        <GroupBox Header="Video File" Grid.Row="0" Margin="0,0,0,5">
            <Grid Margin="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="File:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <TextBox x:Name="VideoFilePathBox" Grid.Column="1" IsReadOnly="True" Margin="0,0,10,0"/>
                <Button Grid.Column="2" Content="Browse..." Click="BrowseVideo_Click" Width="80" Padding="5"/>
            </Grid>
        </GroupBox>

        <!-- Video Display using LibVLC -->
        <Border Grid.Row="1" Background="Black" CornerRadius="4">
            <vlc:VideoView x:Name="VlcVideoView" Background="Black"/>
        </Border>

        <!-- GridSplitter -->
        <GridSplitter Grid.Row="2" Height="5" HorizontalAlignment="Stretch" 
                      Background="#CCCCCC" Cursor="SizeNS" ResizeDirection="Rows"/>
        
        <!-- Video Controls -->
        <GroupBox Grid.Row="3" Header="Playback Controls" Margin="0,5,0,0">
            <StackPanel Margin="5">
                <Grid Margin="0,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock x:Name="PositionText" Grid.Column="0" Text="00:00:00" VerticalAlignment="Center" Margin="0,0,10,0" FontFamily="Consolas"/>
                    <Slider x:Name="SeekSlider" Grid.Column="1" Minimum="0" Maximum="100" ValueChanged="SeekSlider_ValueChanged" Margin="0,0,10,0"/>
                    <TextBlock x:Name="DurationText" Grid.Column="2" Text="00:00:00" VerticalAlignment="Center" FontFamily="Consolas"/>
                </Grid>
                <WrapPanel HorizontalAlignment="Center" Margin="0,5">
                    <Button Content="â–¶ Play" Click="Play_Click" Width="80" Height="35" Margin="5" FontWeight="Bold"/>
                    <Button Content="â¸ Pause" Click="Pause_Click" Width="80" Height="35" Margin="5"/>
                    <Button Content="â¹ Stop" Click="Stop_Click" Width="80" Height="35" Margin="5"/>
                    <Button Content="âª -10s" Click="Back_Click" Width="70" Height="35" Margin="5"/>
                    <Button Content="â© +10s" Click="Forward_Click" Width="70" Height="35" Margin="5"/>
                    <Button Content="â›¶ Fullscreen" Click="Fullscreen_Click" Width="100" Height="35" Margin="5" ToolTip="Press Escape to exit fullscreen"/>
                </WrapPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5">
                    <TextBlock Text="Volume:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <Slider x:Name="VolumeSlider" Minimum="0" Maximum="1" Value="0.7" Width="150" ValueChanged="Volume_ValueChanged"/>
                    <Button Content="ðŸ”‡ Mute" Click="Mute_Click" Width="70" Height="30" Margin="10,0,0,0"/>
                </StackPanel>
                <TextBlock HorizontalAlignment="Center" Margin="0,10,0,0" FontStyle="Italic" Foreground="#666">
                    LibVLC-powered video player - Plays any format (AVI, MKV, MP4, WebM, etc.)
                </TextBlock>
            </StackPanel>
        </GroupBox>
    </Grid>
</UserControl>
