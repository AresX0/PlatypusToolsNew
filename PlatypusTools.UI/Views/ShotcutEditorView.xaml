<UserControl x:Class="PlatypusTools.UI.Views.ShotcutEditorView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="700" d:DesignWidth="1200"
             Background="#1E1E1E"
             Loaded="UserControl_Loaded"
             Unloaded="UserControl_Unloaded"
             SizeChanged="UserControl_SizeChanged">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Minimal Toolbar -->
        <Border Grid.Row="0" Background="#3E3E42" Padding="4,2">
            <DockPanel>
                <StackPanel DockPanel.Dock="Left" Orientation="Horizontal">
                    <Button x:Name="LaunchButton" Content="â–¶ Start Editor" 
                            Click="LaunchShotcut_Click"
                            Margin="0,0,8,0" Padding="10,4" FontWeight="SemiBold"
                            Background="#007ACC" Foreground="White"/>
                    <Button x:Name="RestartButton" Content="âŸ³ Restart" Click="RestartShotcut_Click"
                            Margin="0,0,4,0" Padding="8,4" IsEnabled="False"/>
                    <Button x:Name="CloseButton" Content="âœ• Close" Click="CloseShotcut_Click"
                            Padding="8,4" IsEnabled="False"/>
                    <Separator Margin="8,2"/>
                    <Button x:Name="DetachButton" Content="â¬ˆ Detach" Click="DetachShotcut_Click"
                            Padding="8,4" IsEnabled="False" ToolTip="Move to separate window"/>
                    <Button x:Name="ReattachButton" Content="â¬Š Reattach" Click="ReattachShotcut_Click"
                            Padding="8,4" Visibility="Collapsed" ToolTip="Bring back to embedded view"/>
                </StackPanel>
                
                <TextBlock x:Name="StatusText" DockPanel.Dock="Right" 
                           Text="Ready" Foreground="#AAA" FontSize="11"
                           VerticalAlignment="Center" Margin="0,0,8,0"/>
            </DockPanel>
        </Border>

        <!-- Shotcut Embedded Host -->
        <Border x:Name="HostBorder" Grid.Row="1" Background="#000">
            <Grid>
                <!-- Placeholder shown before Shotcut launches -->
                <StackPanel x:Name="PlaceholderPanel" 
                            VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="ðŸŽ¬" FontSize="64" HorizontalAlignment="Center" 
                               Foreground="#444"/>
                    <TextBlock Text="Video Editor" FontSize="20" 
                               Foreground="#666" HorizontalAlignment="Center"
                               Margin="0,12,0,4"/>
                    <TextBlock Text="Click 'Start Editor' to launch Shotcut embedded in this panel"
                               Foreground="#555" HorizontalAlignment="Center"/>
                    
                    <Button Content="â–¶ Start Editor" 
                            Click="LaunchShotcut_Click"
                            HorizontalAlignment="Center"
                            Margin="0,20,0,0" Padding="16,8"
                            FontSize="14" FontWeight="SemiBold"
                            Background="#007ACC" Foreground="White"/>
                </StackPanel>
                
                <!-- WindowsFormsHost for embedding Shotcut -->
                <WindowsFormsHost x:Name="WinFormsHost" Visibility="Collapsed"/>
            </Grid>
        </Border>
    </Grid>
</UserControl>
