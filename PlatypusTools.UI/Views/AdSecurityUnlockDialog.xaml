<Window x:Class="PlatypusTools.UI.Views.AdSecurityUnlockDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ğŸ” Activate AD Security Analyzer" 
        Height="380" Width="450"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        Background="{DynamicResource WindowBackgroundBrush}">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" Text="ğŸ›¡ï¸ AD Security Analyzer" FontSize="18" FontWeight="Bold" 
                   HorizontalAlignment="Center" Margin="0,0,0,10" />

        <TextBlock Grid.Row="1" TextWrapping="Wrap" TextAlignment="Center" Margin="0,0,0,15">
            This feature requires a valid license key.
            <LineBreak />
            Enter your license key to unlock.
        </TextBlock>

        <!-- License Key Entry -->
        <StackPanel Grid.Row="2" Orientation="Vertical" HorizontalAlignment="Center" Margin="0,0,0,10">
            <TextBlock Text="License Key:" HorizontalAlignment="Center" Margin="0,0,0,5" />
            <TextBox x:Name="LicenseKeyBox" Width="280" Height="32" FontSize="14"
                     FontFamily="Consolas" TextAlignment="Center"
                     CharacterCasing="Upper"
                     MaxLength="19"
                     KeyDown="LicenseKeyBox_KeyDown"
                     TextChanged="LicenseKeyBox_TextChanged" />
            <TextBlock Text="Format: XXXX-XXXX-XXXX-XXXX" FontSize="10" Foreground="Gray" 
                       HorizontalAlignment="Center" Margin="0,3,0,0" />
        </StackPanel>

        <!-- Error Message -->
        <TextBlock x:Name="ErrorMessage" Grid.Row="3" 
                   Text="Invalid license key" Foreground="Red" 
                   HorizontalAlignment="Center" Visibility="Collapsed" />

        <!-- Already Licensed Message -->
        <StackPanel Grid.Row="4" Orientation="Vertical" HorizontalAlignment="Center" 
                    Margin="0,10,0,0" x:Name="LicensedPanel" Visibility="Collapsed">
            <TextBlock Text="âœ… Licensed" FontSize="14" Foreground="#4CAF50" 
                       HorizontalAlignment="Center" FontWeight="Bold" />
            <TextBlock x:Name="LicenseKeyDisplay" FontFamily="Consolas" FontSize="12"
                       HorizontalAlignment="Center" Margin="0,5,0,0" Foreground="Gray" />
        </StackPanel>

        <!-- Buttons -->
        <StackPanel Grid.Row="6" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
            <Button Content="ğŸ”“ Activate" MinWidth="180" Height="32" Margin="5"
                    x:Name="ActivateButton"
                    Background="#FF4CAF50" Foreground="White" FontWeight="SemiBold"
                    Click="Activate_Click" IsDefault="True" />
            <Button Content="Cancel" MinWidth="180" Height="32" Margin="5"
                    Click="Cancel_Click" IsCancel="True" />
        </StackPanel>
    </Grid>
</Window>
