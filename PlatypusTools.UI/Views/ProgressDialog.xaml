<Window x:Class="PlatypusTools.UI.Views.ProgressDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:gif="http://wpfanimatedgif.codeplex.com"
        Title="Operation in Progress" 
        Width="450" Height="280"
        WindowStartupLocation="CenterOwner"
        WindowStyle="ToolWindow"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        Background="{DynamicResource BackgroundBrush}">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Platypus Loading Animation -->
        <Image Grid.Row="0"
               gif:ImageBehavior.AnimatedSource="pack://application:,,,/Assets/platypus-loading.gif"
               Width="80" Height="80" 
               Margin="0,0,0,8"
               HorizontalAlignment="Center"/>
        
        <!-- Title -->
        <TextBlock x:Name="TitleText" Grid.Row="1" 
                   Text="Processing..." 
                   FontSize="16" FontWeight="SemiBold"
                   HorizontalAlignment="Center"
                   Margin="0,0,0,6"/>
        
        <!-- Status -->
        <TextBlock x:Name="StatusText" Grid.Row="2" 
                   Text="Initializing..."
                   TextTrimming="CharacterEllipsis"
                   HorizontalAlignment="Center"
                   Foreground="{DynamicResource ForegroundDimBrush}"
                   Margin="0,0,0,10"/>
        
        <!-- Progress Bar -->
        <Grid Grid.Row="3">
            <ProgressBar x:Name="ProgressBar" 
                         Height="20"
                         Minimum="0" Maximum="100"/>
            <TextBlock x:Name="ProgressPercentText" 
                       Text="0%"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       FontSize="11"/>
        </Grid>
        
        <!-- Details (expandable) -->
        <Expander Grid.Row="4" Header="Details" Margin="0,10,0,0">
            <ScrollViewer MaxHeight="100" VerticalScrollBarVisibility="Auto">
                <TextBox x:Name="DetailsText" 
                         IsReadOnly="True" 
                         Background="Transparent"
                         BorderThickness="0"
                         FontFamily="Consolas"
                         FontSize="11"
                         TextWrapping="Wrap"/>
            </ScrollViewer>
        </Expander>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="5" Orientation="Horizontal" 
                    HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button x:Name="CancelButton" Content="Cancel" 
                    MinWidth="180" Padding="10,5"
                    Click="Cancel_Click"/>
        </StackPanel>
    </Grid>
</Window>
