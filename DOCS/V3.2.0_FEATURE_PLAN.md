# PlatypusTools v3.2.0 Feature Enhancement Plan

**Date**: January 2025  
**Last Updated**: January 27, 2026  
**Status**: ‚úÖ Released (v3.2.12.1 current)  
**Based on**: Comprehensive analysis of DOCS folder vs. actual codebase

---

## Executive Summary

After thorough analysis of the DOCS folder (TODO.md, IMPLEMENTATION_STATUS.md, AUDIO_PLAYER_IMPLEMENTATION_STATUS.md, etc.) and verification against the actual codebase, I've identified features that are:
- ‚úÖ **Already Implemented** (docs outdated)
- ‚ùå **Not Yet Implemented** (candidates for v3.2.0)

### Docs vs Reality - Corrections

The following features were marked as "not implemented" in docs but **ARE ACTUALLY IMPLEMENTED**:

| Feature | Status | Location |
|---------|--------|----------|
| Crossfade | ‚úÖ Exists | `AudioPlayerService.cs`, `AudioPlayerViewModel.cs` |
| Queue Persistence | ‚úÖ Exists | `SaveQueueAsync()` / `LoadQueueAsync()` in AudioPlayerService |
| Drag-and-Drop Reorder | ‚úÖ Exists | `AudioPlayerView.xaml.cs` line 1445 |
| Keyboard Shortcuts | ‚úÖ Exists | `KeyboardShortcutService.cs`, `AudioPlayerView.xaml` |
| Plugin System (Core) | ‚úÖ Exists | `PluginService.cs` with IPlugin, LoadPlugin, etc. |
| Library Indexing | ‚úÖ Exists | `LibraryIndexService.cs`, `MetadataExtractorService.cs` |
| Atomic File Writer | ‚úÖ Exists | `AtomicFileWriter.cs` |
| Path Canonicalizer | ‚úÖ Exists | `PathCanonicalizer.cs` |

---

## v3.2.0 Implemented Features

### ‚úÖ IMPLEMENTED IN v3.2.0

#### 1. Forensics Analyzer (NEW)
**Status**: ‚úÖ Implemented  
**Location**: `ForensicsAnalyzerService.cs`, `ForensicsAnalyzerViewModel.cs`, `ForensicsAnalyzerView.xaml`
**Features**:
- Lightweight Mode (single core, ~100MB output, 24h logs)
- Deep Mode (multi-core, GB-scale output, 7 days logs)
- Memory analysis with process inspection
- File system analysis with SHA256 hashing
- Registry startup analysis
- Windows Event Log parsing
- Export report in JSON/text format

#### 2. Plugin Manager UI (TASK-163, TASK-164, TASK-169)
**Status**: ‚úÖ Implemented  
**Location**: `PluginManagerView.xaml`, `PluginManagerViewModel.cs`  
**Features**:
- Browse installed plugins with status
- Install new plugins from file
- Enable/disable plugins
- Uninstall plugins
- Reload all plugins
- View plugin details

#### 3. Sleep Timer / Auto-Stop
**Status**: ‚úÖ Implemented  
**Location**: `AudioPlayerViewModel.cs`, `AudioPlayerView.xaml`  
**Features**:
- Timer options: 15/30/45/60/90/120 minutes
- Countdown display in status bar
- Gradual fade-out before stop
- Cancel timer option

---

## Remaining Features for Future Versions  

### üî¥ HIGH PRIORITY - Future Versions (UPDATED STATUS)

#### 1. Real Audio EQ (DSP Processing)
**Status**: ‚úÖ Implemented  
**Evidence**: `EnhancedAudioPlayerService.cs` - 10-Band `EqualizerSampleProvider` with BiQuadFilter chain  
**Location**: `EnhancedAudioPlayerService.cs` lines 160-170, 987-1080

#### 2. Gapless Playback
**Status**: ‚úÖ Implemented  
**Evidence**: `EnhancedAudioPlayerService.cs` - `#region Gapless Playback` with `PreloadNextTrack()` functionality  
**Location**: `EnhancedAudioPlayerService.cs` line 498

#### 3. Transition Preview (TASK-047)
**Status**: ‚úÖ Implemented  
**Evidence**: `TransitionPickerWindow.xaml.cs` with animated preview panels  
**Location**: `TransitionPickerWindow.xaml`, `TransitionPickerWindow.xaml.cs`

### üü° MEDIUM PRIORITY - Enhancement Features (UPDATED STATUS)

#### 4. Synchronized Zoom/Pan for Comparison Viewer (TASK-062)
**Status**: ‚úÖ Implemented  
**Evidence**: `ComparisonViewer.xaml` - Sync Pan toggle with Zoom controls  
**Location**: `ComparisonViewer.xaml`

#### 5. Per-Item Settings Override for Batch Upscale (TASK-053)
**Status**: ‚ùå Not Implemented  
**Evidence**: Only in TODO.md  
**Effort**: 3-4 hours

#### 6. Tag Selection Checkboxes for Batch Metadata (TASK-072)
**Status**: ‚ùå Not Implemented  
**Evidence**: Only in TODO.md  
**Effort**: 2-3 hours

#### 7. Preview Before Apply for Batch Metadata (TASK-074)
**Status**: ‚ùå Not Implemented  
**Evidence**: Only in TODO.md  
**Effort**: 3-4 hours

#### 10. Delete from Disk for Audio Library
**Status**: ‚úÖ Implemented  
**Evidence**: Audio library context menu with delete functionality  
**Location**: `AudioPlayerView.xaml`

### üü¢ LOW PRIORITY - Nice to Have (UPDATED STATUS)

#### 11. Scrolling Capture for Screenshot Tool (TASK-134)
**Status**: ‚úÖ Implemented  
**Evidence**: Scrolling screenshot capture in `ScreenCaptureService.cs`  
**Location**: `ScreenCaptureService.cs`, `ScreenshotView.xaml`

#### 12. Replay Gain Normalization
**Status**: ‚úÖ Implemented  
**Evidence**: ReplayGain support in audio player  
**Location**: `EnhancedAudioPlayerService.cs`

#### 13. Sample Plugin (TASK-168)
**Status**: ‚ùå Not Implemented  
**Evidence**: Only in TODO.md  
**Effort**: 2-3 hours

#### 14. Plugin Sandboxing (TASK-167)
**Status**: ‚ùå Not Implemented  
**Evidence**: Only in TODO.md  
**Effort**: 10-15 hours (complex)

---

## Recommended v3.2.0 Scope

Based on effort vs. impact analysis, here's the recommended scope:

### Phase 1: Quick Wins (4-6 hours total)
1. ‚úÖ **Sleep Timer** (2-3h) - Easy, high user value
2. ‚úÖ **Plugin Manager UI** (4-6h) - Backend exists, just need UI
3. ‚úÖ **Tag Selection Checkboxes** (2-3h) - Simple enhancement

### Phase 2: Audio Enhancements (10-14 hours)
4. ‚úÖ **Real Audio EQ** (8-10h) - High impact, NAudio DSP chain
5. ‚úÖ **Delete from Disk** (2-3h) - Essential library management

### Phase 3: Comparison & Preview (8-10 hours)
6. ‚úÖ **Transition Preview** (4-5h) - Video merge enhancement
7. ‚úÖ **Synchronized Zoom/Pan** (4-6h) - Batch upscale improvement

### Deferred to v3.3.0+
- Gapless Playback (requires significant audio engine changes)
- Scrolling Capture (complex stitching algorithm)
- Plugin Sandboxing (security complexity)
- Replay Gain (low user demand)

---

## Implementation Order

| Order | Feature | Effort | Priority | Impact |
|-------|---------|--------|----------|--------|
| 1 | Sleep Timer | 2-3h | High | High |
| 2 | Plugin Manager UI | 4-6h | High | High |
| 3 | Delete from Disk | 2-3h | Medium | High |
| 4 | Real Audio EQ | 8-10h | High | High |
| 5 | Tag Selection Checkboxes | 2-3h | Medium | Medium |
| 6 | Transition Preview | 4-5h | Medium | Medium |
| 7 | Synchronized Zoom/Pan | 4-6h | Medium | Medium |
| 8 | Preview Before Apply | 3-4h | Medium | Medium |
| 9 | Per-Item Settings Override | 3-4h | Low | Medium |

**Total v3.2.0 Estimated Effort**: 35-45 hours

---

## Files to Create/Modify

### New Files
```
PlatypusTools.UI/
‚îú‚îÄ‚îÄ Views/
‚îÇ   ‚îú‚îÄ‚îÄ PluginManagerView.xaml
‚îÇ   ‚îî‚îÄ‚îÄ TransitionPreviewWindow.xaml
‚îú‚îÄ‚îÄ ViewModels/
‚îÇ   ‚îú‚îÄ‚îÄ PluginManagerViewModel.cs
‚îÇ   ‚îî‚îÄ‚îÄ TransitionPreviewViewModel.cs
‚îî‚îÄ‚îÄ Controls/
    ‚îî‚îÄ‚îÄ SleepTimerControl.xaml
```

### Modified Files
```
PlatypusTools.UI/
‚îú‚îÄ‚îÄ Services/
‚îÇ   ‚îî‚îÄ‚îÄ AudioPlayerService.cs (add real EQ DSP)
‚îú‚îÄ‚îÄ Views/
‚îÇ   ‚îú‚îÄ‚îÄ AudioPlayerView.xaml (add sleep timer, delete)
‚îÇ   ‚îú‚îÄ‚îÄ BatchUpscaleView.xaml (sync zoom)
‚îÇ   ‚îî‚îÄ‚îÄ MetadataEditorView.xaml (tag checkboxes)
‚îî‚îÄ‚îÄ ViewModels/
    ‚îú‚îÄ‚îÄ AudioPlayerViewModel.cs (sleep timer logic)
    ‚îî‚îÄ‚îÄ BatchUpscaleViewModel.cs (per-item override)
```

---

## Action Items

- [x] Update TODO.md to reflect actual implementation status ‚úÖ (January 27, 2026)
- [x] Remove outdated "not implemented" markers from docs ‚úÖ (January 27, 2026)
- [x] Update TODO_PRIORITY.md with correct statuses ‚úÖ (January 27, 2026)
- [ ] Create GitHub issues for remaining v3.3.0+ features

## Summary of Completed Features (Originally Marked Not Implemented)

| Feature | Status | Verified Location |
|---------|--------|-------------------|
| 10-Band Equalizer | ‚úÖ | EnhancedAudioPlayerService.cs |
| Gapless Playback | ‚úÖ | EnhancedAudioPlayerService.cs |
| Transition Preview | ‚úÖ | TransitionPickerWindow.xaml.cs |
| Synchronized Zoom/Pan | ‚úÖ | ComparisonViewer.xaml |
| Scrolling Screenshot | ‚úÖ | ScreenCaptureService.cs |
| ReplayGain Support | ‚úÖ | EnhancedAudioPlayerService.cs |
| Filter Search/Favorites | ‚úÖ | VideoEditorViewModel.cs |
| Track Lock/Mute | ‚úÖ | TimelineTrack.cs, VideoEditorView.xaml |
| Timeline Snapping | ‚úÖ | VideoEditorViewModel.cs |
| Clip Markers | ‚úÖ | VideoEditorViewModel.cs |
| Auto-Save | ‚úÖ | VideoEditorViewModel.cs |
| Filter Presets | ‚úÖ | FilterPresetService.cs |
| Keyframe Editor | ‚úÖ | KeyframeInterpolator.cs |
| Export Presets | ‚úÖ | ExportPresets.cs |
| WinPmem Integration | ‚úÖ | AdvancedForensicsViewModel.cs |
| Volatility 3 | ‚úÖ | AdvancedForensicsViewModel.cs |
| KAPE Integration | ‚úÖ | AdvancedForensicsViewModel.cs |
| OpenSearch Export | ‚úÖ | AdvancedForensicsViewModel.cs |
| Plaso Timelines | ‚úÖ | AdvancedForensicsViewModel.cs |
| Velociraptor | ‚úÖ | AdvancedForensicsViewModel.cs |
| Kusto/KQL Queries | ‚úÖ | AdvancedForensicsViewModel.cs |

---

*Last updated: January 27, 2026*
